<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Prodotti</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" />
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="prodotti.css">
    <script src="https://kit.fontawesome.com/dbed6b6114.js" crossorigin="anonymous"></script>
</head>
<body>
    <nav class="nav">
        <ul class="nav-links">
            <i class="uil uil-bars navOpenBtn"></i>
            <a href="./index.html" class="logo"><img src="./logo.png" height="100" width="100"></a>
            <i class="uil uil-times navCloseBtn"></i>
            <li><a href="index.html">Home</a></li>
            <li><a href="ProductPage/prodotti.html">Prodotti</a></li>
            <li><a href="contatti.html">Contatti</a></li>
        </ul>
        <ul class="nav-links">
            <input type="text" style="background: none; color: #fff; max-width: 75%; border: 2px solid #0777ff; border-radius: 5px;padding: 10px 25px;box-shadow: 2px 2px 15px #0777ff inset;" placeholder="Cerca..." />
            <a href="login/login.html"><i class="fa fa-user" style="color:#fff;"></i></a>
            <a href="#"><i class="fa fa-shopping-cart" style="color: #fff;"></i></a>
        </ul>
    </nav>

    <div class="products">
        <div class="container">
            <div class="product-items">
                <!-- Prodotti caricati dinamicamente -->
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="footer-col">
                    <h4>company</h4>
                    <ul>
                        <li><a href="#">about us</a></li>
                        <li><a href="#">privacy policy</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>get help</h4>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">returns</a></li>
                        <li><a href="#">order status</a></li>
                        <li><a href="#">payment options</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>online shop</h4>
                    <ul>
                        <li><a href="#">hat</a></li>
                        <li><a href="#">hoodie</a></li>
                        <li><a href="#">shoes</a></li>
                        <li><a href="#">t-shirt</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>follow us</h4>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Includi lo script per caricare i prodotti -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        fetch('products.xml')
            .then(response => response.text())
            .then(data => {
                let parser = new DOMParser();
                let xml = parser.parseFromString(data, "application/xml");
                let products = xml.getElementsByTagName("product");

                let container = document.querySelector(".product-items");
                for (let product of products) {
                    let id = product.getElementsByTagName("id")[0].textContent;
                    let name = product.getElementsByTagName("name")[0].textContent;
                    let price = product.getElementsByTagName("price")[0].textContent;
                    let image = product.getElementsByTagName("image")[0].textContent;

                    let productHTML = `
                        <div class="product">
                            <div class="product-content">
                                <div class="product-img">
                                    <a href="prodotto.html?id=${id}">
                                        <img src="${image}" alt="${name}" />
                                    </a>
                                </div>
                                <div class="product-btns">
                                    <button type="button" class="btn-cart"> add to cart
                                        <span><i class="fas fa-plus"></i></span>
                                    </button>
                                    <button type="button" class="btn-buy"> buy now
                                        <span><i class="fas fa-shopping-cart"></i></span>
                                    </button>
                                </div>
                            </div>
                            <div class="product-info">
                                <div class="product-info-top">
                                    <h2 class="sm-title">lifestyle</h2>
                                    <div class="rating">
                                        <span><i class="fas fa-star"></i></span>
                                        <span><i class="fas fa-star"></i></span>
                                        <span><i class="fas fa-star"></i></span>
                                        <span><i class="fas fa-star"></i></span>
                                        <span><i class="fas fa-star-half"></i></span>
                                    </div>
                                </div>
                                <a href="prodotto.html?id=${id}" class="product-name">${name}</a>
                                <p class="product-price">â‚¬ ${price}</p>
                            </div>
                        </div>`;
                    container.innerHTML += productHTML;
                }
            })
            .catch(error => console.error('Error fetching XML:', error));
    });
    </script>
</body>
</html>
